<!DOCTYPE html>
<html lang='en'>
 <head>
  <title>Document</title>
  <script src='../js/vue.js'></script>
</head>
<body>
  <div id='root'>
    <h2>人员列表</h2>
    <input type="text" placeholder="请输入姓名" v-model="keyWord">
    <ul>
      <li v-for="item in newPersonArr" :key="item.id">{{item.name}}-{{item.age}}</li>
    </ul>
  </div>

  <script type='text/javascript'>
    Vue.config.productionTip = false // 取消Vue的生产提示

    const vm = new Vue({
      el:'#root',
      data: {
        keyWord: '',
        personArr: [
          {id:'001', name: '马冬梅', age: 18},
          {id:'002', name: '周冬雨', age: 20},
          {id:'003', name: '周杰伦', age: 25},
          {id:'004', name: '温兆伦', age: 24}
        ],
        // newPersonArr: []
      },
      // 用watch实现
      // #region
      // watch: {
      //   keyWord: {
      //     immediate: true,
      //     handler(newValue) {
      //         this.newPersonArr = this.personArr.filter((p) => {
      //           return p.name.indexOf(newValue) !== -1
      //       })
      //     }
      //   }
      // }
      // #endregion
      computed: {
        newPersonArr() {
          return this.personArr.filter((p) => {
            return p.name.indexOf(this.keyWord) !== -1
          })
        }
      }
    })
  </script>
</body>
</html>